import{_ as c,r as p,o as l,c as i,a as n,d as a,w as u,F as k,b as s,e}from"./app.090844ca.js";const r={},d=n("h1",{id:"\u8F66\u8F6E\u52A8\u753B",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u8F66\u8F6E\u52A8\u753B","aria-hidden":"true"},"#"),s(" \u8F66\u8F6E\u52A8\u753B")],-1),m={class:"table-of-contents"},v=s("\u52A8\u753B\u57FA\u7840"),b=e(`<h2 id="\u52A8\u753B\u57FA\u7840" tabindex="-1"><a class="header-anchor" href="#\u52A8\u753B\u57FA\u7840" aria-hidden="true">#</a> \u52A8\u753B\u57FA\u7840</h2><p>\u6211\u4EEC\u8981\u5B9E\u73B0\u8F66\u8F6E\u6CBF\u8F74\u65CB\u8F6C\u7684\u52A8\u753B\u3002</p><p>\u9996\u5148\u521B\u5EFA\u52A8\u753B\u5BF9\u8C61\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> animWheel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BABYLON<span class="token punctuation">.</span>Animation</span><span class="token punctuation">(</span><span class="token string">&quot;wheelAnimation&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;rotation.y&quot;</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token constant">BABYLON</span><span class="token punctuation">.</span>Animation<span class="token punctuation">.</span><span class="token constant">ANIMATIONTYPE_FLOAT</span><span class="token punctuation">,</span> <span class="token constant">BABYLON</span><span class="token punctuation">.</span>Animation<span class="token punctuation">.</span><span class="token constant">ANIMATIONLOOPMODE_CYCLE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u52A8\u753B\u5BF9\u8C61\u5305\u542B\u4EE5\u4E0B\u53C2\u6570\uFF1A\u540D\u79F0\uFF0C\u5C5E\u6027\uFF0C\u5E27\u7387\uFF0C\u5FAA\u73AF\u6A21\u5F0F\u3002</p><p>\u8BBE\u7F6E\u5173\u952E\u5E27\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> wheelKeys <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 

<span class="token comment">//At the animation key 0, the value of rotation.y is 0</span>
wheelKeys<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">frame</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//At the animation key 30, (after 1 sec since animation fps = 30) the value of rotation.y is 2PI for a complete rotation</span>
wheelKeys<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">frame</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5C06\u5173\u952E\u5E27\u8FDE\u63A5\u5230\u52A8\u753B\u5BF9\u8C61\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//set the keys</span>
animWheel<span class="token punctuation">.</span><span class="token function">setKeys</span><span class="token punctuation">(</span>wheelKeys<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Link this animation to the right back wheel</span>
wheelRB<span class="token punctuation">.</span>animations <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
wheelRB<span class="token punctuation">.</span>animations<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>animWheel<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Begin animation - \u52A8\u753B\u7269\u4F53, \u5F00\u59CB\u5E27\uFF0C\u7ED3\u675F\u5E27\uFF0C\u662F\u5426\u5FAA\u73AF</span>
scene<span class="token punctuation">.</span><span class="token function">beginAnimation</span><span class="token punctuation">(</span>wheelRB<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u540C\u6837\u7684\u52A8\u753B\u5E94\u7528\u5230\u5176\u5B83\u8F6E\u5B50\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>scene<span class="token punctuation">.</span><span class="token function">beginAnimation</span><span class="token punctuation">(</span>wheelRF<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
scene<span class="token punctuation">.</span><span class="token function">beginAnimation</span><span class="token punctuation">(</span>wheelLB<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
scene<span class="token punctuation">.</span><span class="token function">beginAnimation</span><span class="token punctuation">(</span>wheelLF<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,11),h={href:"https://playground.babylonjs.com/#KDPAQ9#14",target:"_blank",rel:"noopener noreferrer"},g=s("\u8F6E\u5B50\u52A8\u753B\u5355\u72EC"),f=e(`<p>\u4F18\u5316\u4EE3\u7801\uFF0C\u5C06\u6C7D\u8F66\u7684\u6A21\u578B\u548C\u52A8\u753B\u5BFC\u51FA\u4E3A\u5355\u72EC\u7684\u6A21\u5757\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token constant">BABYLON</span><span class="token punctuation">.</span>SceneLoader<span class="token punctuation">.</span><span class="token function">ImportMeshAsync</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;url to model car&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;car.babylon&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>  <span class="token punctuation">{</span>
    <span class="token keyword">const</span> wheelRB <span class="token operator">=</span> scene<span class="token punctuation">.</span><span class="token function">getMeshByName</span><span class="token punctuation">(</span><span class="token string">&quot;wheelRB&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> wheelRF <span class="token operator">=</span> scene<span class="token punctuation">.</span><span class="token function">getMeshByName</span><span class="token punctuation">(</span><span class="token string">&quot;wheelRF&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> wheelLB <span class="token operator">=</span> scene<span class="token punctuation">.</span><span class="token function">getMeshByName</span><span class="token punctuation">(</span><span class="token string">&quot;wheelLB&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> wheelLF <span class="token operator">=</span> scene<span class="token punctuation">.</span><span class="token function">getMeshByName</span><span class="token punctuation">(</span><span class="token string">&quot;wheelLF&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    scene<span class="token punctuation">.</span><span class="token function">beginAnimation</span><span class="token punctuation">(</span>wheelRB<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    scene<span class="token punctuation">.</span><span class="token function">beginAnimation</span><span class="token punctuation">(</span>wheelRF<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    scene<span class="token punctuation">.</span><span class="token function">beginAnimation</span><span class="token punctuation">(</span>wheelLB<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    scene<span class="token punctuation">.</span><span class="token function">beginAnimation</span><span class="token punctuation">(</span>wheelLF<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),_={href:"https://playground.babylonjs.com/#KDPAQ9#15",target:"_blank",rel:"noopener noreferrer"},y=s("\u8F6E\u5B50\u52A8\u753B\u5B8C\u6574");function w(A,B){const o=p("RouterLink"),t=p("ExternalLinkIcon");return l(),i(k,null,[d,n("nav",m,[n("ul",null,[n("li",null,[a(o,{to:"#\u52A8\u753B\u57FA\u7840"},{default:u(()=>[v]),_:1})])])]),b,n("p",null,[n("a",h,[g,a(t)])]),f,n("p",null,[n("a",_,[y,a(t)])])],64)}var q=c(r,[["render",w],["__file","4-animation.html.vue"]]);export{q as default};
