import{_ as l,c as a,o as r,a as i,b as e,d as t}from"./app.a8a600a6.js";const x=JSON.parse('{"title":"灯光 Lights","description":"","frontmatter":{},"headers":[{"level":2,"title":"灯光","slug":"灯光","link":"#灯光","children":[{"level":3,"title":"创建灯光 create_light","slug":"create-light","link":"#create-light","children":[]},{"level":3,"title":"灯光属性 light_properties_accessors","slug":"light-properties-accessors","link":"#light-properties-accessors","children":[]},{"level":3,"title":"dispose_light","slug":"dispose-light","link":"#dispose-light","children":[]}]},{"level":2,"title":"阴影","slug":"阴影","link":"#阴影","children":[{"level":3,"title":"创建阴影 create_shadow","slug":"create-shadow","link":"#create-shadow","children":[]},{"level":3,"title":"阴影属性 shadow_properties_accessors","slug":"shadow-properties-accessors","link":"#shadow-properties-accessors","children":[]},{"level":3,"title":"添加阴影生成器 add_shadow_caster","slug":"add-shadow-caster","link":"#add-shadow-caster","children":[]}]}],"relativePath":"block3d/blocks-reference/lights.md"}'),s={name:"block3d/blocks-reference/lights.md"},h=i('<h1 id="灯光-lights" tabindex="-1">灯光 Lights <a class="header-anchor" href="#灯光-lights" aria-hidden="true">#</a></h1><p>这类拼图用于创建灯光和阴影。</p><nav class="table-of-contents"><ul><li><a href="#灯光">灯光</a><ul><li><a href="#create-light">创建灯光 create_light</a></li><li><a href="#light-properties-accessors">灯光属性 light_properties_accessors</a></li><li><a href="#dispose-light">dispose_light</a></li></ul></li><li><a href="#阴影">阴影</a><ul><li><a href="#create-shadow">创建阴影 create_shadow</a></li><li><a href="#shadow-properties-accessors">阴影属性 shadow_properties_accessors</a></li><li><a href="#add-shadow-caster">添加阴影生成器 add_shadow_caster</a></li></ul></li></ul></nav><h2 id="灯光" tabindex="-1">灯光 <a class="header-anchor" href="#灯光" aria-hidden="true">#</a></h2><h3 id="create-light" tabindex="-1">创建灯光 create_light <a class="header-anchor" href="#create-light" aria-hidden="true">#</a></h3><p>用于创建灯光，类型包括：点光、平行光、聚光灯、半球光。一个场景中默认允许创建最多6盏灯光。</p><h4 id="PointLight" tabindex="-1">PointLight <a class="header-anchor" href="#PointLight" aria-hidden="true">#</a></h4><p>点光源是从场景中某个位置向四周发射光线的灯光类型。</p><p>参数：</p><ul><li>名字 - 灯光名称</li><li>位置 - 灯光位置</li></ul><h4 id="DirectionalLight" tabindex="-1">DirectionalLight <a class="header-anchor" href="#DirectionalLight" aria-hidden="true">#</a></h4><p>平行光用于模拟太阳光线。虽然其位置不影响照明，但会对阴影产生影响。</p><p>参数：</p><ul><li>名字 - 灯光名称</li><li>位置 - 灯光位置</li><li>方向 - 灯光方向</li></ul><h4 id="SpotLight" tabindex="-1">SpotLight <a class="header-anchor" href="#SpotLight" aria-hidden="true">#</a></h4><p>聚光灯是从场景中一点向一个扇形范围发射光线。</p><p>参数：</p><ul><li>名字 - 灯光名称</li><li>位置 - 灯光位置</li><li>方向 - 灯光方向</li><li>角度 - 扇形范围的角度</li><li>指数 - 灯光强度衰减指数，默认2次方</li></ul>',18),o=e("h4",{HemisphericLight:"",id:"hemisphericlight",tabindex:"-1"},[t("HemisphericLight "),e("a",{class:"header-anchor",href:"#hemisphericlight","aria-hidden":"true"},"#")],-1),d=i('<p>半球光多用于提供环境照明。</p><ul><li>名字 - 灯光名称</li><li>方向 - 灯光方向</li></ul><h3 id="light-properties-accessors" tabindex="-1">灯光属性 light_properties_accessors <a class="header-anchor" href="#light-properties-accessors" aria-hidden="true">#</a></h3><p>用于设置或获取灯光属性或状态。状态是访问对象属性时触发的回调函数，用于设置或获取对象的内部数据，用法与属性相同。</p><p>灯光根据其类型有不同的属性和状态。</p><p>灯光属性有：</p><ul><li>漫反射：漫反射，赋予对象基础颜色</li><li>强度：灯光强度</li><li>高光：注意: 不会影响PBR材质</li></ul><p>灯光状态：</p><ul><li>方向：设置或获取灯光方向用于产生阴影</li><li>仅包含网格：设置或获取仅被灯光影响的网格</li><li>内角：内角。仅在gltf衰减模式中使用，它定义了在定向衰减开始，在裁切角度（外角）之前的角度，</li><li>强度模式：设置用于解释灯光强度的比例。它只与PBR材质相关，其中灯光强度可以用物理方式定义</li><li>灯光贴图模式：设置该光源的灯光贴图模式(应该是Light.LIGHTMAP_x定义的一个常量)</li><li>位置：设置或获取阴影从什么位置发射。也可以用作点光源和聚光灯的位置</li><li>半径：设置PBR材质用于模拟柔和的面光灯光半径</li><li>范围：定义灯光可以影响场景中单位的距离有多远注意: 未用于PBR材质</li><li>阴影角度：在提供方向的情况下，阴影将不使用立方体纹理，而是模拟一个聚光灯阴影作为衰减。这指定了阴影将使用什么角度来创建。默认为90度</li><li>启用阴影：设置是否为该光源启用阴影。这可以帮助关闭/打开阴影，而不需要解除当前的阴影生成器</li><li>阴影最大Z：设置或获取阴影投射裁切最大z值</li><li>阴影最小Z：设置或获取阴影投射裁切最小z值</li><li>阴影锥体大小：为阴影生成器固定视锥体大小。如果值为0则禁用</li><li>阴影正交缩放：设置或获取阴影投影比例。默认为0.1，表示投影窗口从最佳大小增加10%。这不会影响固定视锥大小(shadowFrustumSize设置)</li></ul><h3 id="dispose-light" tabindex="-1">dispose_light <a class="header-anchor" href="#dispose-light" aria-hidden="true">#</a></h3><p>销毁灯光，并释放相关资源。</p><h2 id="阴影" tabindex="-1">阴影 <a class="header-anchor" href="#阴影" aria-hidden="true">#</a></h2><h3 id="create-shadow" tabindex="-1">创建阴影 create_shadow <a class="header-anchor" href="#create-shadow" aria-hidden="true">#</a></h3><p>为指定灯光创建阴影，并指定阴影贴图的大小。</p><h3 id="shadow-properties-accessors" tabindex="-1">阴影属性 shadow_properties_accessors <a class="header-anchor" href="#shadow-properties-accessors" aria-hidden="true">#</a></h3><p>用于设置或获取阴影属性或状态。状态是访问对象属性时触发的回调函数，用于设置或获取对象的内部数据，用法与属性相同。</p><p>阴影属性：</p><ul><li>启用柔和透明阴影: enableSoftTransparentShadow - 启用或禁用基于透明度的不同强度的阴影。启用该选项后，阴影的强度等于网格的可见度。如果在材质上启用了alpha纹理，则纹理中的红色通道也会合并以计算强度（网格可见度乘以纹理红通道）。默认使用的纹理是漫反射，但可以通过设置“使用不透明度贴图用于透明阴影useOpacityTextureForTransparentShadow”来设置为不透明度。注意，根据定义，必须将“透明阴影transparencyShadow”设置为true才能启用“柔和透明阴影SoftTransparentShadow”！</li><li>强制仅背面: forceBackFacesOnly - 如果为true，则通过渲染网格背面而不是正面生成阴影贴图。这可以帮助解决自阴影问题，因为构成物体背面的几何图形会稍微偏移。另一方面，这也会造成阴影悬浮。</li><li>视锥体边缘衰减: frustumEdgeFalloff - 控制阴影在视锥体边缘淡出的程度</li><li>使用不透明度贴图用于透明阴影: useOpacityTextureForTransparentShadow - 如果为true，那么在透明阴影中使用不透明度贴图opacity texture的alpha通道，而不是漫反射通道。</li></ul><p>阴影状态：</p><ul><li>偏移：bias - 设置偏移: 偏移用于深度防止阴影错误 (在灯光方向上)</li><li>模糊框偏移：blurBoxOffset - 设置模糊方框偏移：偏移用于模糊通道\\n仅当useKernelBlur = false时有效</li><li>模糊粒度：blurKernel - 设置模糊粒度：模糊通道颗粒大小\\n仅当useKernelBlur = true时有效</li><li>模糊缩放：blurScale - 设置模糊缩放：与主阴影贴图相比，模糊纹理的比例\\n2表示半尺寸</li><li>接触硬化灯光大小UV比率：contactHardeningLightSizeUVRatio - 设置PCSS中使用的灯光大小(在阴影贴图uv单元中)，以确定屏蔽器搜索区域和半影大小。使用一个比例有助于保持形状稳定独立于贴图大小。它不解释光线投影，因为它在光线设置或光线位置变化期间有太多的不稳定性。只有当useContactHardeningShadow为true时才有效</li><li>暗度：darkness - 设置或获取实际阴影暗度</li><li>深度缩放：depthScale - 在ESM模式下设置深度比例。这会覆盖存储在灯光中的缩放</li><li>过滤：filter - 设置或获取当前阴影生成器模式(法线，PCF, ESM…)。返回值是一个数字，它等于阴影贴图中定义的一个可用模式\\n0 - NONE\\n1 - PCF\\n2 - PCSS\\n3 - Poisson\\n4 - Exponential\\n5 - Blurred exponential\\n6 - Close exponential\\n7 - Blurred close exponential</li><li>过滤质量：filteringQuality - 设置PCF或PCSS质量。仅当usePercentageCloserFiltering或usePercentageCloserFiltering为true时才有效</li><li>贴图大小：mapSize - 获取或设置存储阴影的纹理的大小</li><li>法线偏移：normalBias - 设置法线偏移：偏移用于深度防止阴影错误(沿法线方向并与灯光/法线角度成比例)</li><li>透明阴影：transparencyShadow - 获取或设置是否开启透明阴影</li><li>使用模糊近似指数阴影贴图：useBlurCloseExponentialShadowMap - 设置当前过滤模式为filtered &quot;close ESM&quot;（使用指数的倒数来防止急剧衰减伪影）</li><li>使用模糊指数阴影贴图：useBlurExponentialShadowMap - 获取当前过滤器是否设置为已过滤的ESM</li><li>使用近似指数阴影贴图：useCloseExponentialShadowMap - 设置当前过滤模式为&quot;close ESM&quot;（使用指数的倒数来防止急剧衰减伪影）</li><li>使用接触硬化阴影：useContactHardeningShadow - 设置当前过滤模式为&quot;PCSS&quot; (contact hardening).</li><li>使用指数阴影贴图：useExponentialShadowMap - 设置当前过滤模式为ESM.</li><li>使用颗粒模糊：useKernelBlur - 设置模糊通道是颗粒模糊(如果为真)还是方框模糊。仅在过滤模式（useBlurExponentialShadowMap等）下有效</li><li>使用百分比近似过滤：usePercentageCloserFiltering - 设置当前过滤模式为&quot;PCF&quot; (percentage closer filtering).</li><li>使用泊松采样：usePoissonSampling - 设置当前过滤模式为Poisson采样</li></ul><h3 id="add-shadow-caster" tabindex="-1">添加阴影生成器 add_shadow_caster <a class="header-anchor" href="#add-shadow-caster" aria-hidden="true">#</a></h3><p>设置可以产生阴影的网格。</p>',22),n=[h,o,d];function c(p,u,g,_,S,f){return r(),a("div",null,n)}const P=l(s,[["render",c]]);export{x as __pageData,P as default};
